<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Salary Calculator</title>
  <style>
    :root {
      --bg-color: #1c1c1e;
      --text-color: #f2f2f7;
      --accent-color: #0a84ff;
      --input-bg: #2c2c2e;
      --border-radius: 12px;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
      padding: 1em;
    }

    h1 {
      font-size: 1.8em;
      margin-bottom: 1em;
      font-weight: 600;
    }

    label {
      font-size: 1em;
      margin-bottom: 0.5em;
      display: block;
    }

    input, select {
      background-color: var(--input-bg);
      color: var(--text-color);
      border: none;
      padding: 0.75em 1em;
      font-size: 1.1em;
      border-radius: var(--border-radius);
      width: 100%;
      max-width: 320px;
      box-shadow: inset 0 0 0 1px #3a3a3c;
      margin-bottom: 1em;
      appearance: none;
    }

    button {
      background-color: var(--accent-color);
      color: white;
      font-size: 1.1em;
      padding: 0.7em 1.5em;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: background 0.3s ease;
      width: 100%;
      max-width: 320px;
      margin-bottom: 1em;
    }

    button:hover {
      background-color: #0060df;
    }

    .result {
      margin-top: 1.5em;
      font-size: 1.15em;
      font-weight: 500;
      line-height: 1.6em;
    }

    .lang-toggle {
      font-size: 0.9em;
      margin-top: 1em;
      cursor: pointer;
      text-decoration: underline;
      opacity: 0.8;
    }

    .lang-toggle:hover {
      opacity: 1;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <h1 id="title">ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ¸</h1>

  <label id="label" for="yearly">Ğ Ñ–Ñ‡Ğ½Ğ° Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ° (â‚´)</label>
  <input type="number" id="yearly" placeholder="ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, 360000" />

  <label id="regionLabel" for="region">ĞšÑ€Ğ°Ñ—Ğ½Ğ°</label>
  <select id="region">
    <option value="">â€“ ĞĞ±Ñ€Ğ°Ñ‚Ğ¸ â€“</option>
    <option value="5">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°: Ğ¤ĞĞŸ 5%</option>
    <option value="19.5">ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ°: Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ°</option>
    <option value="30">ğŸ‡ºğŸ‡¸ USA: average</option>
    <option value="32">ğŸ‡¬ğŸ‡§ UK</option>
    <option value="42">ğŸ‡©ğŸ‡ª Germany</option>
    <option value="46">ğŸ‡«ğŸ‡· France</option>
    <option value="0">0% (no tax)</option>
  </select>

  <label for="tax" id="taxLabel">Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾Ğ´Ğ°Ñ‚ĞºÑƒ (%)</label>
  <input type="number" id="tax" placeholder="ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, 19.5" step="0.1" />

  <button onclick="calculate()" id="button">Ğ Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ²Ğ°Ñ‚Ğ¸</button>

  <div class="result" id="result"></div>

  <div class="lang-toggle" onclick="toggleLanguage()">ğŸ‡¬ğŸ‡§ English</div>

  <script>
    const yearlyInput = document.getElementById('yearly');
    const taxInput = document.getElementById('tax');
    const result = document.getElementById('result');
    const langToggle = document.querySelector('.lang-toggle');
    const regionSelect = document.getElementById('region');

    const translations = {
      ua: {
        title: 'ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ¸',
        label: 'Ğ Ñ–Ñ‡Ğ½Ğ° Ğ·Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ° (â‚´)',
        regionLabel: 'ĞšÑ€Ğ°Ñ—Ğ½Ğ°',
        taxLabel: 'Ğ¡Ñ‚Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾Ğ´Ğ°Ñ‚ĞºÑƒ (%)',
        placeholder: 'ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, 360000',
        taxPlaceholder: 'ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, 19.5',
        button: 'Ğ Ğ¾Ğ·Ñ€Ğ°Ñ…ÑƒĞ²Ğ°Ñ‚Ğ¸',
        result: (m, w, d, mNet, wNet, dNet) =>
          `ğŸ’¼ <strong>${m} Ğ³Ñ€Ğ½</strong> / Ğ¼Ñ–Ñ<br/>
           ğŸ“… <strong>${w} Ğ³Ñ€Ğ½</strong> / Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ<br/>
           ğŸ•“ <strong>${d} Ğ³Ñ€Ğ½</strong> / Ğ´ĞµĞ½ÑŒ<br/><br/>
           ğŸ§¾ <em>ĞŸÑ–ÑĞ»Ñ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ĞºÑ–Ğ²:</em><br/>
           ğŸ’¼ <strong>${mNet} Ğ³Ñ€Ğ½</strong> / Ğ¼Ñ–Ñ<br/>
           ğŸ“… <strong>${wNet} Ğ³Ñ€Ğ½</strong> / Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ<br/>
           ğŸ•“ <strong>${dNet} Ğ³Ñ€Ğ½</strong> / Ğ´ĞµĞ½ÑŒ`,
        invalid: 'Ğ’Ğ²ĞµĞ´Ñ–Ñ‚ÑŒ ĞºĞ¾Ñ€ĞµĞºÑ‚Ğ½Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ.',
        langButton: 'ğŸ‡¬ğŸ‡§ English',
      },
      en: {
        title: 'Salary Calculator',
        label: 'Yearly salary (â‚´)',
        regionLabel: 'Country',
        taxLabel: 'Tax rate (%)',
        placeholder: 'e.g. 360000',
        taxPlaceholder: 'e.g. 19.5',
        button: 'Calculate',
        result: (m, w, d, mNet, wNet, dNet) =>
          `ğŸ’¼ <strong>${m} UAH</strong> / month<br/>
           ğŸ“… <strong>${w} UAH</strong> / week<br/>
           ğŸ•“ <strong>${d} UAH</strong> / day<br/><br/>
           ğŸ§¾ <em>After tax:</em><br/>
           ğŸ’¼ <strong>${mNet} UAH</strong> / month<br/>
           ğŸ“… <strong>${wNet} UAH</strong> / week<br/>
           ğŸ•“ <strong>${dNet} UAH</strong> / day`,
        invalid: 'Please enter valid values.',
        langButton: 'ğŸ‡ºğŸ‡¦ Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ',
      }
    };

    let currentLang = 'ua';

    window.addEventListener('DOMContentLoaded', () => {
      yearlyInput.value = localStorage.getItem('salaryYearly') || '';
      taxInput.value = localStorage.getItem('salaryTax') || '';
      if (yearlyInput.value && taxInput.value) calculate();
    });

    regionSelect.addEventListener('change', () => {
      const selected = parseFloat(regionSelect.value);
      if (!isNaN(selected)) {
        taxInput.value = selected;
        localStorage.setItem('salaryTax', selected);
      }
    });

    function calculate() {
      const yearly = parseFloat(yearlyInput.value);
      const taxRate = parseFloat(taxInput.value);
      if (!isNaN(yearly) && yearly >= 0 && !isNaN(taxRate) && taxRate >= 0 && taxRate < 100) {
        const taxMultiplier = 1 - (taxRate / 100);
        const [monthly, weekly, daily] = [
          yearly / 12,
          yearly / 52,
          yearly / 260
        ];
        const netYearly = yearly * taxMultiplier;
        const [monthlyNet, weeklyNet, dailyNet] = [
          netYearly / 12,
          netYearly / 52,
          netYearly / 260
        ];
        result.innerHTML = translations[currentLang].result(
          monthly.toFixed(2),
          weekly.toFixed(2),
          daily.toFixed(2),
          monthlyNet.toFixed(2),
          weeklyNet.toFixed(2),
          dailyNet.toFixed(2)
        );
      } else {
        result.textContent = translations[currentLang].invalid;
      }
    }

    function toggleLanguage() {
      currentLang = currentLang === 'ua' ? 'en' : 'ua';
      const t = translations[currentLang];
      document.getElementById('title').textContent = t.title;
      document.getElementById('label').textContent = t.label;
      document.getElementById('regionLabel').textContent = t.regionLabel;
      document.getElementById('taxLabel').textContent = t.taxLabel;
      document.getElementById('yearly').placeholder
